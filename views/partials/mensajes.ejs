<!-- Modal para mostrar mensajes de error -->
<% if (typeof error_msg !== 'undefined' && error_msg.length > 0) { %>
  <!-- Contenedor del modal de error -->
  <div class="modal fade show" id="errorModal" tabindex="-1" aria-labelledby="errorModalLabel" aria-hidden="true" style="display: block;">
    <div class="modal-dialog modal-dialog-centered">
      <!-- Contenido del modal de error -->
      <div class="modal-content">
        <!-- Encabezado del modal de error con fondo rojo -->
        <div class="modal-header bg-danger text-white">
          <h5 class="modal-title" id="errorModalLabel">Error</h5>
          <!-- Botón para cerrar el modal -->
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Cerrar"></button>
        </div>
        <!-- Cuerpo del modal que muestra el mensaje de error -->
        <div class="modal-body">
          <%= error_msg %>
        </div>
        <!-- Pie del modal con botón para cerrar -->
        <div class="modal-footer">
          <button type="button" class="btn btn-danger" data-bs-dismiss="modal">Cerrar</button>
        </div>
      </div>
    </div>
  </div>
<% } %>

<!-- Modal para mostrar mensajes de éxito -->
<% if (typeof success_msg !== 'undefined' && success_msg.length > 0) { %>
  <!-- Contenedor del modal de éxito -->
  <div class="modal fade show" id="successModal" tabindex="-1" aria-labelledby="successModalLabel" aria-hidden="true" style="display: block;">
    <div class="modal-dialog modal-dialog-centered">
      <!-- Contenido del modal de éxito -->
      <div class="modal-content">
        <!-- Encabezado del modal de éxito con fondo verde -->
        <div class="modal-header bg-success text-white">
          <h5 class="modal-title" id="successModalLabel">Éxito</h5>
          <!-- Botón para cerrar el modal -->
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Cerrar"></button>
        </div>
        <!-- Cuerpo del modal que muestra el mensaje de éxito -->
        <div class="modal-body">
          <%= success_msg %>
        </div>
        <!-- Pie del modal con botón para cerrar -->
        <div class="modal-footer">
          <button type="button" class="btn btn-success" data-bs-dismiss="modal">Cerrar</button>
        </div>
      </div>
    </div>
  </div>
<% } %>

<!-- Enlace al CSS de Bootstrap para estilos predefinidos -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">

<!-- Script de Bootstrap JS Bundle con Popper para componentes interactivos -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

<script>
document.addEventListener('DOMContentLoaded', function() {
  // Inicializar y mostrar el modal de error si existe
  var errorModal = document.getElementById('errorModal');
  if (errorModal) {
    var modal = new bootstrap.Modal(errorModal);
    modal.show();
    // Desaparecer el modal de error después de 3 segundos
    setTimeout(function() {
      modal.hide();
    }, 3000);
  }

  // Inicializar y mostrar el modal de éxito si existe
  var successModal = document.getElementById('successModal');
  if (successModal) {
    var modal = new bootstrap.Modal(successModal);
    modal.show();
    // Desaparecer el modal de éxito después de 3 segundos
    setTimeout(function() {
      modal.hide();
    }, 3000);
  }
});
</script>
